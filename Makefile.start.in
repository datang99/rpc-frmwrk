include ./Makefile.init.pub

TARGETS := 3rd_Party $(OUTPUT_DIR)/libcombase.so $(OUTPUT_DIR)/libipc.so \
     $(OUTPUT_DIR)/librpc.so test Ridl Python 

all: $(TARGETS) 
debug: $(TARGETS)
release: $(TARGETS)
clean: $(TARGETS)
release_clean: $(TARGETS)
debug_clean: $(TARGETS)

mygoal:=$(MAKECMDGOALS)
$(OUTPUT_DIR)/libcombase.so :
	-$(MAKE) -C ./combase $(mygoal)
	
$(OUTPUT_DIR)/libipc.so :
	-$(MAKE) -C ./ipc $(mygoal)

$(OUTPUT_DIR)/librpc.so :
	-$(MAKE) -C ./rpc $(mygoal)

test:
	-$(MAKE) -C test $(mygoal)

Python:
	-$(MAKE) -C python $(mygoal)

Ridlc :
	-$(MAKE) -C ridl $(mygoal)

3rd_Party:
	-$(MAKE) -C 3rd_party $(mygoal)


.PHONY: $(TARGETS) test Python Ridlc 3rd_Party
